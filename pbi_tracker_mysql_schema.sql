/*
Script generated by Aqua Data Studio 16.0.3 on May-06-2015 06:45:06 PM
Database: pbi_manager
Schema: <DEFAULT>
Objects: TABLE, VIEW, PROCEDURE, FUNCTION, TRIGGER, EVENT
*/
ALTER TABLE "PBI_UPDATES"
	DROP FOREIGN KEY "PBI_UPDATE_USER_FK"
GO
ALTER TABLE "PBI_UPDATES"
	DROP FOREIGN KEY "PBI_UPDATE_PBI_FK"
GO
DROP TABLE "PBI_USER"
GO
DROP TABLE "PBI_UPDATES"
GO
DROP TABLE "PBI_LIST"
GO

CREATE TABLE "PBI_LIST"  ( 
	"PBI_ID"              	decimal(10,0) NOT NULL,
	"PBI_DESCR"           	varchar(255) NULL,
	"PBI_DOCUMENTATION"   	decimal(10,0) NOT NULL,
	"PBI_MERGED"          	decimal(10,0) NOT NULL,
	"PBI_VALIDATED_BY_PO" 	decimal(10,0) NOT NULL,
	"PBI_DEPLOYABLE"      	decimal(10,0) NOT NULL,
	"PBI_DEPLOYED_TO_DEMO"	decimal(10,0) NOT NULL,
	PRIMARY KEY("PBI_ID")
)
GO
CREATE TABLE "PBI_UPDATES"  ( 
	"PBI_ID"         	decimal(10,0) NOT NULL,
	"PBI_USER_ID"    	decimal(10,0) NOT NULL,
	"PBI_UPDATE_DATE"	date NOT NULL 
	)
GO
CREATE TABLE "PBI_USER"  ( 
	"USER_ID"    	decimal(10,0) NOT NULL,
	"USER_NAME"  	varchar(100) NOT NULL,
	"USER_ACTIVE"	decimal(10,0) NOT NULL,
	PRIMARY KEY("USER_ID")
)
GO

ALTER TABLE "PBI_UPDATES"
	ADD CONSTRAINT "PBI_UPDATE_USER_FK"
	FOREIGN KEY("PBI_USER_ID")
	REFERENCES "PBI_USER"("USER_ID")
	ON DELETE RESTRICT 
	ON UPDATE RESTRICT 
GO
ALTER TABLE "PBI_UPDATES"
	ADD CONSTRAINT "PBI_UPDATE_PBI_FK"
	FOREIGN KEY("PBI_ID")
	REFERENCES "PBI_LIST"("PBI_ID")
	ON DELETE RESTRICT 
	ON UPDATE RESTRICT 
GO
